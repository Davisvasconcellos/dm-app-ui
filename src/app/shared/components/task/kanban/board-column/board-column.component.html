<div class="flex flex-col gap-5 p-4 swim-lane xl:p-6 min-h-64 h-full">
  <!-- Header -->
  <div class="flex items-center justify-between mb-1">
    <h3 class="flex items-center gap-3 text-base font-medium text-gray-800 dark:text-white/90">
      {{ title }}
      <span class="inline-flex rounded-full px-2 py-0.5 text-theme-xs font-medium"
            [ngClass]="getStatusStyles()">
        {{ tasks.length }}
      </span>
    </h3>
    <div></div>
  </div>

  <!-- Drop Zone (Isolated from header) -->
  <div
    dndDropzone
    (dndDrop)="onDrop($event)"
    class="flex-1 flex flex-col gap-5">
    
    <div
      dndPlaceholderRef
      class="dndPlaceholder border-2 border-dashed border-blue-300 rounded-lg p-4 text-center text-xs text-blue-600 dark:border-blue-500/40 dark:text-blue-400">
      Solte aqui para mover
    </div>

    @for (task of tasks; track $index; let i = $index) {
    <app-kanban-task-item
      [task]="task"
      [index]="i"
      [eventIdCode]="eventIdCode"
      [jamId]="jamId"
      (edit)="onEditTask($event)"
      (delete)="onDeleteTask($event)"
      (readyToggled)="onReadyToggled($event)"
      (expandedToggled)="onExpandedToggled($event)"
    ></app-kanban-task-item>
    }
  </div>
</div>
